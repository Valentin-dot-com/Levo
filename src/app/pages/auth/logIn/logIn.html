<form [formGroup]="loginForm" (ngSubmit)="onLogIn()">
  <h1>Welcome to Levo, please sign in:</h1>
  <div class="input-container">
    <label for="email">Email</label>
    <input
      id="email"
      type="email"
      formControlName="email"
      required
      autocomplete="email"
      class="log-in-input"
      [class.error]="loginForm.get('email')?.invalid && loginForm.get('email')?.touched"
    />
    @if (loginForm.get('email')?.invalid && loginForm.get('email')?.touched) {
      <span class="feedback-invalid">
        Please enter a valid email address
      </span>
    }
  </div>

  <div class="input-container">
    <label for="password">Password</label>
    <input
      id="password"
      type="password"
      formControlName="password"
      required
      autocomplete="current-password"
      class="log-in-input"
      [class.error]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched"
    />
    @if (loginForm.get('password')?.invalid && loginForm.get('password')?.touched) {
      <span class="feedback-invalid">
        Password is required
      </span>
    }
  </div>

  <button class="submit-btn" type="submit" [disabled]="loginForm.invalid || loading()">
    <span>Sign In</span>
  </button>

  @if (errorMessage()) {
    <span class="error-msg">
      <p>{{ errorMessage() }}</p>
    </span>
  }

  @if ((loading())) {
    <span class="loading-container">
      <p>Signing in...</p>
      <app-loader />
    </span>
  }

  <div class="auth-links">
    <a routerLink="/forgot-password">Forgot password?</a>
  </div>
</form>
